<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Testing out the Card HTML5 Template</title>
    <!--
Template 2109 The Card
Reference: http://www.tooplate.com/view/2109-the-card
-->
    <!-- load CSS -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600"
    />
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="slick/slick.css" />
    <link rel="stylesheet" href="slick/slick-theme.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/tooplate-style.css" />
    <!-- Templatemo style -->
  </head>

  <body>
    <!-- Loader -->
    <div id="loader-wrapper">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>

    <div class="tm-main-container">
      <div class="tm-top-container">
        <!-- Menu -->
        <nav id="tmNav" class="tm-nav">
          <a class="tm-navbar-menu" href="#">Menu</a>
          <ul class="tm-nav-links">
            <li class="tm-nav-item active">
              <a href="#" data-linkid="0" data-align="right" class="tm-nav-link">Intro</a>
            </li>
            <li class="tm-nav-item">
              <a href="#" data-linkid="1" data-align="right" class="tm-nav-link">The Journey</a>
            </li>
            <li class="tm-nav-item">
              <a
                href="#"
                data-linkid="2"
                data-align="middle"
                class="tm-nav-link">Solutions</a>
            </li>
            <li class="tm-nav-item">
              <a
                rel="nofollow" href=""
                class="tm-nav-link external">External</a>
            </li>
          </ul>
        </nav>

        <!-- Site header -->
        <header class="tm-site-header-box tm-bg-dark">
          <h1 class="tm-site-title">Mapping Injustice in Peterborough</h1>
          <p class="mb-0 tm-site-subtitle">Our Web Solution Process Guide and General Descent Into Week 15 Chaos</p>
        </header>
      </div>
      <!-- tm-top-container -->

      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12">
            <!-- Site content -->
            <div class="tm-content">
              <!-- Section 0 Introduction -->
              <section class="tm-section tm-section-0">
                <h2 class="tm-section-title mb-3 font-weight-bold">
                  Introduction
                </h2>
                <div class="tm-textbox tm-bg-dark">
                  <p>
                    A little summary perhaps?
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Ideal</h2>
                  <p>
                    Peterborough residents and organizations can visit a website that displays three different ways to map areas with a high risk of environmental harm. Each embedded map shows the main areas of harm such as the old GE building, and old industrial buildings with lasting effects on the land.
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Reality</h2>
                  <p>
                    There is no easy to digest web map that shows residents of Peterborough the reality of their proximity to neighbourhood pollutants.
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Consequences</h2>
                  <p>
                    Residents and policy makers do not know the extent of local pollution and potential health consequences. 
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Proposal</h2>
                  <p class="mb-0">
                    We will explore and develop a web product using either AGOL Experience Builder, StoryMaps, or Dashboard and will display it in a map embedded on a webpage. The map will display areas with high levels of pollution.
                  </p>
                </div>
                <a href="#" id="tm_about_link" data-linkid="1" class="tm-link">Read More</a>
              </section>

              <!-- Section 1 The Journey -->
              <section class="tm-section tm-section-1">
                <h2 class="tm-section-title mb-3 font-weight-bold">The Journey</h2>
                <div class="tm-textbox tm-bg-dark">
                  <h2 class="tm-text-blue mb-4">ArcGIS Online Dashboards</h2>
                  <p class="mb-4">Using feature layers found on ArcGIS Online a web map was created to show community housing, greenspace and industrial areas in Peterborough. Layer and field names were then changed to be more appropriate</p>
                  <img src = "img/db_webmap.jpg" alt="Web Map layers name change" class=" "
                  <h2 class="tm-text-blue mb-4">ArcGIS Online Experience Builder</h2>
                  <p class="mb-4"> A web map was first created to form the main section of the Experience Builder design. This map included layers showing some industrial areas in the city, as well as a community housing layer and greenspace. </p>
                  <img src="img/eb_webmap.jpg" alt="Experience Builder Web Map" class="kc-image" />
                  <p> The layout was decided after playing with the available widgets offered by Experience Builder. Initially, the List widget was being used to talk about relevant locations in the area, but ultimately the Bookmarks widget was more useful, as it could act like a tour around the relevant locations. </p>
                  <img src="img/eb_bookmarks.jpg" alt="Experience Builder Bookmarks" class="kc-image" />
                  <p> The Feature Info widget was used to show attributes of the community housing layer when clicked, and the map pop-up on click was removed. The first Image below is when what the empty box looks like (left) versus when an item is selected on the map (right). </p>
                  <img src="img/eb_FI.jpg" alt="Experience Builder Feature Info" class="kc-image" />
                  <p> Options to toggle on the legend and map layers were added using widgets in the header, as well as a search function, measurement tool, and a find location tool. </p>
                  <img src="img/eb_header.jpg" alt="Experience Builder layout header" class="kc-image" />
                  <p> The last step of the layout was to determine how it changes when resized. Experience Builder offers many options for screen size, which can be redesigned for each major size group (like small, medium, large). For different size ratios within these broad categories, any layout adjustment made would apply to all of them, so some of the smallest size option have odd looking layouts still. To compensate for text overlapping among different sizes (image below), the subheading was hidden for medium screens (left), and both the title and the subheading were hidden from small screens (right). </p>
                  <img src="img/eb_notlarge.jpg" alt="Experience Builder small and medium sized screen layouts" class="kc-image" />
                  <p> The best version of the layout is the large screen layout (below). </p>
                  <img src="img/eb_large.jpg" alt="Experience Builder large screen layout" class="kc-image" />
                  <p> While Experience Builder provides useful options, ultimately with the story we want to tell with the data, something that offers more of a text-based tour through the data would be more useful. The Bookmarks widget provides some capability for this, but the StoryMap service is undoubtedly a better strategy for this type of project. </p>
                  <style>.embed-container {position: relative; padding-bottom: 80%; height: 0; max-width: 100%;} .embed-container iframe, .embed-container object, .embed-container iframe{position: absolute; top: 0; left: 0; width: 100%; height: 100%;} small{position: absolute; z-index: 40; bottom: 0; margin-bottom: -15px;}</style><div class="embed-container"><iframe width="500" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" title="Peterborough Industrial Areas vs the Community" src="https://experience.arcgis.com/experience/679d5d7971df4be89a6536ee43134ccd/"></iframe></div>
                  <p></p>  <!-- I'm sorry for this line, i'm lazy lol  ~kc -->
                  <h2 class="tm-text-blue mb-4">ArcGIS Online StoryMaps</h2>
                  <p class="mb-4">
                    Storymap screenshot to go here and link in external.
                  </p>
                  <a
                    href="#"
                    id="tm_work_link"
                    data-linkid="2"
                    class="tm-link m-0"
                    >Next</a
                  >
                </div>
              </section>

              <!-- Section 2 Work (Gallery) -->
              <section class="tm-section tm-section-2 mx-auto">
                <div class="grid tm-gallery">
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/01.jpg" alt="Image 1" class="" />
                    <figcaption>
                      <h2>
                        Thoughtful
                        <span>Goliath</span>
                      </h2>
                      <p>dog</p>
                      <a href="img/01.jpg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/02.jpg" alt="Pretty Girl" class="" />
                    <figcaption>
                      <h2>
                        Pretty Girl
                        <span>Picture</span>
                      </h2>
                      <p>Vivamus feugiat, neque sed.</p>
                      <a href="img/02.jpg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/03.jpg" alt="Red Flowers" class="" />
                    <figcaption>
                      <h2>
                        A bunch of
                        <span>Red Flower</span>
                      </h2>
                      <p>Integer pellentesque nisi iaculis sapien.</p>
                      <a href="img/03.jpg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/04.jpg" alt="Stairs" class="" />
                    <figcaption>
                      <h2>
                        Thoughtful
                        <span>Goliath</span>
                      </h2>
                      <p>When Goliath comes out, you should run.</p>
                      <a href="img/04.jpg">View more</a>
                    </figcaption>
                  </figure>
                </div>
              </section>

            </div>
          </div>
        </div>
      </div>

      <div class="tm-bottom-container">
        <!-- Barcode -->
        <div class="tm-barcode-box">
          <img src="img/logo_orange.jpg" alt="The Tenants' Act logo" />
        </div>

        <!-- Footer -->
        <footer>
          || Copyright &copy; 2022 The Tenants' Act || 
                  
        	Design: <a rel="nofollow" href="https://fb.com/tooplate">Tooplate</a> || 
        
        </footer>
      </div>
    </div>

    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/background.cycle.js"></script>
    <script src="slick/slick.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script>
      let slickInitDone = false;
      let previousImageId = 0,
        currentImageId = 0;
      let pageAlign = "right";
      let bgCycle;
      let links;
      let eachNavLink;

      window.onload = function() {
        $("body").addClass("loaded");
      };

      function navLinkClick(e) {
        if ($(e.target).hasClass("external")) {
          return;
        }

        e.preventDefault();

        if ($(e.target).data("align")) {
          pageAlign = $(e.target).data("align");
        }

        // Change bg image
        previousImageId = currentImageId;
        currentImageId = $(e.target).data("linkid");
        bgCycle.cycleToNextImage(previousImageId, currentImageId);

        // Change menu item highlight
        $(`.tm-nav-item:eq(${previousImageId})`).removeClass("active");
        $(`.tm-nav-item:eq(${currentImageId})`).addClass("active");

        // Change page content
        $(`.tm-section-${previousImageId}`).fadeOut(function(e) {
          $(`.tm-section-${currentImageId}`).fadeIn();
          // Gallery
          if (currentImageId === 2) {
            setupSlider();
          }
        });

        adjustFooter();
      }

      $(document).ready(function() {
        // Set first page
        $(".tm-section").fadeOut(0);
        $(".tm-section-0").fadeIn();

        // Set Background images
        // https://www.jqueryscript.net/slideshow/Simple-jQuery-Background-Image-Slideshow-with-Fade-Transitions-Background-Cycle.html
        bgCycle = $("body").backgroundCycle({
          imageUrls: [
            "img/photo-02.jpg",
            "img/photo-03.jpg",
            "img/photo-04.jpg",
            "img/photo-05.jpg"
          ],
          fadeSpeed: 2000,
          duration: -1,
          backgroundSize: SCALING_MODE_COVER
        });

        eachNavLink = $(".tm-nav-link");
        links = $(".tm-nav-links");

        // "Menu" open/close
        if (links.hasClass("open")) {
          links.fadeIn(0);
        } else {
          links.fadeOut(0);
        }

        $("#tm_about_link").on("click", navLinkClick);
        $("#tm_work_link").on("click", navLinkClick);

        // Each menu item click
        eachNavLink.on("click", navLinkClick);

        $(".tm-navbar-menu").click(function(e) {
          if (links.hasClass("open")) {
            links.fadeOut();
          } else {
            links.fadeIn();
          }

          links.toggleClass("open");
        });

        // window resize
        $(window).resize(function() {
          // If current page is Gallery page, set it up
          if (currentImageId === 2) {
            setupSlider();
          }

          // Adjust footer
          adjustFooter();
        });

        adjustFooter();
      }); // DOM is ready

      function adjustFooter() {
        const windowHeight = $(window).height();
        const topHeight = $(".tm-top-container").height();
        const middleHeight = $(".tm-content").height();
        let contentHeight = topHeight + middleHeight;

        if (pageAlign === "left") {
          contentHeight += $(".tm-bottom-container").height();
        }

        if (contentHeight > windowHeight) {
          $(".tm-bottom-container").addClass("tm-static");
        } else {
          $(".tm-bottom-container").removeClass("tm-static");
        }
      }

      function setupSlider() {
        let slidesToShow = 4;
        let slidesToScroll = 2;
        let windowWidth = $(window).width();

        if (windowWidth < 480) {
          slidesToShow = 1;
          slidesToScroll = 1;
        } else if (windowWidth < 768) {
          slidesToShow = 2;
          slidesToScroll = 1;
        } else if (windowWidth < 992) {
          slidesToShow = 3;
          slidesToScroll = 2;
        }

        if (slickInitDone) {
          $(".tm-gallery").slick("unslick");
        }

        slickInitDone = true;

        $(".tm-gallery").slick({
          dots: true,
          customPaging: function(slider, i) {
            var thumb = $(slider.$slides[i]).data();
            return `<a>${i + 1}</a>`;
          },
          infinite: true,
          prevArrow: false,
          nextArrow: false,
          slidesToShow: slidesToShow,
          slidesToScroll: slidesToScroll
        });

        // Open big image when a gallery image is clicked.
        $(".slick-list").magnificPopup({
          delegate: "a",
          type: "image",
          gallery: {
            enabled: true
          }
        });
      }
    </script>
  </body>
</html>
